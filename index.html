<!DOCTYPE html>
<html lang="fr" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Le Mythe √âcolo D√©mystifi√© ‚Äì V.2025</title>
    
    <!-- Chargement de Tailwind CSS via CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Polices -->
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&family=IBM+Plex+Mono:wght@300;400;500&display=swap" rel="stylesheet">
    
    <!-- Configuration de Tailwind et Styles Personnalis√©s -->
    <style type="text/tailwindcss">
        @layer base {
            body {
                @apply bg-gray-950 text-gray-50 font-['Space_Grotesk'] antialiased;
            }
            h1, h2, h3, h4, h5, h6 {
                @apply font-['Space_Grotesk'] text-gray-100;
            }
            p {
                @apply text-gray-300;
            }
            code {
                @apply font-['IBM_Plex_Mono'] text-purple-400;
            }
        }
        /* Classes personnalis√©es */
        .gradient-text {
            @apply bg-clip-text text-transparent;
            background-image: linear-gradient(to right, #6EE7B7, #3B82F6);
        }
        .glassmorphism {
            @apply backdrop-blur-md bg-white/5 border border-white/10 rounded-2xl shadow-xl transition-all duration-500 ease-out;
        }
        /* Animations de transition pour le contenu */
        #myth-content {
            transition: opacity 0.4s ease-out, transform 0.4s ease-out;
        }
        .fade-out {
            opacity: 0;
            transform: translateY(10px);
        }
        .fade-in {
            opacity: 1;
            transform: translateY(0);
        }
    </style>
    
    <script>
        // Configuration de Tailwind (identique √† votre version, c'est tr√®s bien)
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Space Grotesk', 'sans-serif'],
                        mono: ['IBM Plex Mono', 'monospace'],
                    },
                    colors: {
                        'gray-950': '#0F172A',
                        'green-neon': '#6EE7B7',
                        'blue-accent': '#3B82F6',
                        'purple-accent': '#A78BFA',
                    },
                    keyframes: {
                        'fade-in-up': {
                            '0%': { opacity: '0', transform: 'translateY(20px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' },
                        },
                        'pulse-glow': {
                            '0%, 100%': { 'box-shadow': '0 0 0px rgba(100, 255, 218, 0.4)' },
                            '50%': { 'box-shadow': '0 0 15px rgba(100, 255, 218, 0.7)' },
                        }
                    },
                    animation: {
                        'fade-in-up': 'fade-in-up 0.8s ease-out forwards',
                        'pulse-glow': 'pulse-glow 2s infinite',
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-gray-950 text-gray-50 font-sans antialiased flex flex-col min-h-screen">

    <!-- Grille de fond subtile -->
    <div class="fixed inset-0 z-0 opacity-5 pointer-events-none" style="background-image: url('data:image/svg+xml,%3Csvg width=\'100%25\' height=\'100%25\' xmlns=\'http://www.w3.org/2000/svg\'%3E%3Cdefs%3E%3Cpattern id=\'smallGrid\' width=\'10\' height=\'10\' patternUnits=\'userSpaceOnUse\'%3E%3Cpath d=\'M 10 0 L 0 0 0 10\' fill=\'none\' stroke=\'%234A5568\' stroke-width=\'0.2\'/%3E%3C/pattern%3E%3Cpattern id=\'grid\' width=\'100\' height=\'100\' patternUnits=\'userSpaceOnUse\'%3E%3Crect width=\'100\' height=\'100\' fill=\'url(%23smallGrid)\'/%3E%3Cpath d=\'M 100 0 L 0 0 0 100\' fill=\'none\' stroke=\'%234A5568\' stroke-width=\'0.5\'/%3E%3C/pattern%3E%3C/defs%3E%3Crect width=\'100%25\' height=\'100%25\' fill=\'url(%23grid)\'/%3E%3C/svg%3E');"></div>

    <!-- Conteneur principal -->
    <div class="relative z-10 flex-grow container mx-auto px-4 py-8 md:py-16 flex flex-col items-center justify-center">

        <!-- En-t√™te -->
        <header class="text-center mb-12 animate-fade-in-up" style="animation-delay: 0.1s;">
            <h1 class="text-5xl md:text-7xl font-bold mb-4 leading-tight">
                <span class="gradient-text">Le Mythe √âcolo</span> <br class="md:hidden"> D√©mystifi√© <span class="text-green-neon">/</span>
            </h1>
            <p class="text-lg md:text-xl text-gray-400 max-w-2xl mx-auto">
                Plongez au c≈ìur des id√©es re√ßues sur l'√©cologie. Analyse factuelle, sans fard.
            </p>
        </header>

        <!-- Conteneur principal du mythe -->
        <main id="myth-container" class="w-full max-w-4xl glassmorphism p-8 md:p-12 animate-fade-in-up" style="animation-delay: 0.3s;">
            
            <!-- 
              Am√©lioration Accessibilit√© (A11y): 
              'aria-live="polite"' indique aux lecteurs d'√©cran d'annoncer 
              le changement de contenu lorsque l'utilisateur a fini son action.
              'role="status"' donne un contexte s√©mantique.
            -->
            <article id="myth-content" role="status" aria-live="polite">
                <!-- Contenu charg√© par JS -->
                <div class="text-center text-gray-400">Chargement du mythe...</div>
            </article>

        </main>

        <!-- Pied de page -->
        <footer class="text-center mt-12 text-gray-500 text-sm animate-fade-in-up" style="animation-delay: 0.5s;">
            <p class="mb-2">Derni√®re mise √† jour du mythe : <time id="update-time" datetime="" class="text-green-neon font-mono"></time>.</p>
            <p>Propuls√© par des faits et <span class="text-blue-accent">GitHub Pages</span>.</p>
        </footer>
    </div>
    
    <!-- 
      AM√âLIORATION : S√âPARATION DONN√âES/LOGIQUE
      Les donn√©es sont stock√©es proprement dans une balise JSON.
      C'est plus facile √† maintenir et √† mettre √† jour.
    -->
    <script id="myth-data" type="application/json">
    [
        {
          "id": "ID-2025-001",
          "mythe": "Les √©oliennes tuent des milliers d'oiseaux et sont inefficaces.",
          "explication": "Le mythe selon lequel les √©oliennes tuent un grand nombre d'oiseaux est souvent exag√©r√©. Bien que des collisions se produisent, les √©tudes montrent que d'autres structures humaines (b√¢timents, lignes √©lectriques) et les chats domestiques sont responsables d'un nombre bien plus important de d√©c√®s d'oiseaux.\n\nQuant √† leur efficacit√©, les technologies √©oliennes ont consid√©rablement progress√©. Les √©oliennes modernes sont con√ßues pour √™tre plus performantes m√™me par vent mod√©r√©, et leur facteur de charge (le temps o√π elles produisent de l'√©lectricit√©) est en constante am√©lioration.",
          "updated_at": "2025-11-01T10:30:00Z"
        },
        {
          "id": "ID-2025-002",
          "mythe": "Le recyclage ne sert √† rien, tout finit √† la d√©charge.",
          "explication": "C'est incorrect. Bien que les syst√®mes de recyclage ne soient pas parfaits, une grande partie des mat√©riaux collect√©s est effectivement transform√©e en nouveaux produits. Le recyclage permet d'√©conomiser des ressources naturelles, de l'√©nergie et de r√©duire les √©missions de gaz √† effet de serre par rapport √† la production √† partir de mati√®res premi√®res vierges. Le tri correct par les citoyens est crucial pour am√©liorer son efficacit√©.",
          "updated_at": "2025-10-15T09:15:00Z"
        },
        {
          "id": "ID-2025-003",
          "mythe": "Les voitures √©lectriques polluent plus que les voitures thermiques √† cause des batteries.",
          "explication": "Sur l'ensemble de leur cycle de vie (production, utilisation, fin de vie), les voitures √©lectriques √©mettent globalement moins de CO2 que les voitures thermiques, m√™me en comptant la production de la batterie. L'impact d√©pend du 'mix √©nerg√©tique' du pays o√π l'√©lectricit√© est produite, mais dans la grande majorit√© des cas, l'avantage reste √† l'√©lectrique et s'am√©liore √† mesure que la production d'√©lectricit√© devient plus verte.",
          "updated_at": "2025-11-05T14:00:00Z"
        }
    ]
    </script>
    
    <!-- Script principal de l'application -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Constantes pour les √©l√©ments du DOM
            const mythArticle = document.getElementById('myth-content');
            const updateTimeEl = document.getElementById('update-time');
            const dataElement = document.getElementById('myth-data');
            const mythContainer = document.getElementById('myth-container');
            
            // Constantes de configuration
            const UNE_MINUTE = 1 * 60 * 1000; // 60000 ms
            let currentMythIndex = 0;
            let allMyths = [];

            // Fonction pour formater le HTML d'un mythe
            function formatMythHTML(mythData) {
                // S√©pare l'explication en paragraphes
                const explanationHtml = mythData.explication.split('\n\n').map(p => `<p>${p}</p>`).join('');
                
                return `
                    <!-- Section du Mythe -->
                    <div class="mb-8">
                        <h2 class="text-sm md:text-base font-bold text-red-400 uppercase tracking-widest mb-4 flex items-center">
                            <span class="text-xl md:text-2xl mr-2">üí°</span> LE MYTHE
                            <span class="ml-auto text-sm text-gray-400 font-mono">${mythData.id}</span>
                        </h2>
                        <blockquote class="relative pl-6 md:pl-8 py-2 border-l-4 border-red-500/50">
                            <p class="text-2xl md:text-3xl font-medium text-gray-100 italic leading-snug">${mythData.mythe}</p>
                            <svg class="absolute -left-0.5 top-0.5 h-6 w-6 text-red-500/50 opacity-70" fill="currentColor" viewBox="0 0 24 24"><path d="M6 17h3l2-4V7H5v6h3zm8 0h3l2-4V7h-6v6h3z"/></svg>
                        </blockquote>
                    </div>

                    <hr class="my-10 border-gray-700/50">

                    <!-- Section de l'Explication -->
                    <div>
                        <h2 class="text-sm md:text-base font-bold text-green-neon uppercase tracking-widest mb-4 flex items-center">
                            <span class="text-xl md:text-2xl mr-2">‚úÖ</span> LA R√âALIT√â D√âCOD√âE
                        </h2>
                        <div class="prose prose-invert prose-lg text-gray-300 space-y-4 leading-relaxed">
                            ${explanationHtml}
                        </div>
                    </div>
                `;
            }

            // Fonction pour charger un mythe dans le DOM
            function loadMyth(index) {
                if (!allMyths[index]) return; // S√©curit√©
                
                const mythData = allMyths[index];

                // Appliquer l'animation de fondu sortant
                mythArticle.classList.add('fade-out');

                // Attendre la fin de l'animation pour changer le contenu
                setTimeout(() => {
                    // Remplir le contenu
                    mythArticle.innerHTML = formatMythHTML(mythData);

                    // Formater et afficher la date
                    const date = new Date(mythData.updated_at);
                    const options = { year: 'numeric', month: 'long', day: 'numeric', hour: '2-digit', minute: '2-digit' };
                    updateTimeEl.textContent = date.toLocaleDateString('fr-FR', options);
                    updateTimeEl.setAttribute('datetime', mythData.updated_at);

                    // R√©appliquer l'animation d'apparition
                    mythArticle.classList.remove('fade-out');
                    mythArticle.classList.add('fade-in');
                }, 400); // Doit correspondre √† la dur√©e de la transition CSS
            }

            // Fonction principale d'initialisation
            function initialize() {
                try {
                    // AM√âLIORATION : Parser les donn√©es depuis la balise JSON
                    allMyths = JSON.parse(dataElement.textContent);
                    
                    if (!allMyths || allMyths.length === 0) {
                        throw new Error("Aucune donn√©e de mythe n'a √©t√© trouv√©e.");
                    }

                    // Charger le premier mythe au d√©marrage
                    loadMyth(currentMythIndex);

                    // D√©finir un intervalle pour changer le mythe
                    setInterval(() => {
                        currentMythIndex = (currentMythIndex + 1) % allMyths.length;
                        loadMyth(currentMythIndex);
                    }, UNE_MINUTE);

                } catch (error) {
                    console.error('Erreur critique lors de l\'initialisation:', error);
                    // Afficher un message d'erreur clair √† l'utilisateur
                    mythContainer.innerHTML = `
                        <div class="text-red-400 text-center py-10">
                            <h2 class="text-2xl font-bold mb-4">Erreur de chargement</h2>
                            <p class="text-lg">Impossible de charger les mythes. Le fichier de donn√©es est peut-√™tre mal format√©.</p>
                            <p class="text-sm mt-4 font-mono">${error.message}</p>
                        </div>
                    `;
                }
            }

            // Lancer l'application
            initialize();
        });
    </script>
</body>
</html>

